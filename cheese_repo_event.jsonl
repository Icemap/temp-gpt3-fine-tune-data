{"prompt": "[ossinsight] Repos with the most pull requests in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS pull_requests FROM github_events WHERE type = 'PullRequestEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.pull_requests FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.pull_requests DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most closed pull requests", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS pull_requests FROM github_events WHERE type = 'PullRequestEvent' AND action = 'closed' GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.pull_requests FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.pull_requests DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most comments on closed pull requests", "completion":"WITH ge_count AS ( SELECT repo_id, SUM(comments) AS comments FROM github_events WHERE type = 'PullRequestEvent' AND action = 'closed' GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.comments FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.comments DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most commits in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS commits FROM github_events WHERE type = 'PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.commits FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.commits DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most code additions in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, SUM(additions) AS additions FROM github_events WHERE type = 'PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.additions FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.additions DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most forks created in the last 30 days", "completion":"WITH ge_count AS ( SELECT parent_repo_id as repo_id, COUNT(*) AS forks FROM github_repos WHERE is_fork = 1 AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.forks FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.forks DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most issues closed in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS closed_issues FROM github_events WHERE type = 'IssuesEvent' AND action = 'closed' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.closed_issues FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.closed_issues DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most releases in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS releases FROM github_events WHERE type = 'ReleaseEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.releases FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.releases DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most commits in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS commits FROM github_events WHERE type = 'PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.commits FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.commits DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most pull requests opened in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS opened_pull_requests FROM github_events WHERE type = 'PullRequestEvent' AND action = 'opened' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.opened_pull_requests FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.opened_pull_requests DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most pull requests closed in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS closed_pull_requests FROM github_events WHERE type = 'PullRequestEvent' AND action = 'closed' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.closed_pull_requests FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.closed_pull_requests DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most code additions in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, SUM(additions) AS additions FROM github_events WHERE type = 'PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.additions FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.additions DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most code deletions in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, SUM(deletions) AS deletions FROM github_events WHERE type = 'PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.deletions FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.deletions DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most code reviews in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS code_reviews FROM github_events WHERE type = 'PullRequestReviewEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.code_reviews FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.code_reviews DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with the most issues opened in the last 30 days", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS issues_opened FROM github_events WHERE type = 'IssuesEvent' AND action = 'opened' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id ) SELECT gr.repo_name, gr.owner_login, ge_count.issues_opened FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.issues_opened DESC LIMIT 10"}
{"prompt": "[ossinsight] Most starred repos where python is primary_language", "completion":"SELECT gr.repo_name, gr.stars FROM github_repos gr JOIN github_repo_languages grl ON grl.repo_id = gr.repo_id WHERE LOWER(grl.language) = 'python' ORDER BY gr.stars DESC LIMIT 10"}
{"prompt": "[ossinsight] Top 5 most active repos", "completion":"WITH ge_count AS ( SELECT repo_id, COUNT(*) AS activity FROM github_events WHERE created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY repo_id) SELECT gr.repo_name, ge_count.activity FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.activity DESC LIMIT 5"}
{"prompt": "[ossinsight] Most forked repos with more than 100 forks", "completion":"SELECT gr.repo_name, gr.forks FROM github_repos gr WHERE gr.forks > 100 ORDER BY gr.forks DESC LIMIT 10"}
{"prompt": "[ossinsight] Most recent push event in the last 7 days", "completion":"WITH ge_count AS ( SELECT repo_id, MAX(created_at) as last_push FROM github_events WHERE type='PushEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 7 DAY) GROUP BY repo_id) SELECT gr.repo_name, ge_count.last_push FROM github_repos gr JOIN ge_count ON gr.repo_id = ge_count.repo_id ORDER BY ge_count.last_push DESC LIMIT 10"}
{"prompt": "[ossinsight] Most active contributors in the last 30 days", "completion": "WITH events_last_30_days AS(SELECT actor_id, COUNT(*) AS activity FROM github_events WHERE type IN ('PushEvent','PullRequestEvent','IssuesEvent') AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY actor_id) SELECT gu.login, events_last_30_days.activity AS activity FROM github_users gu JOIN events_last_30_days ON gu.id = events_last_30_days.actor_id ORDER BY activity DESC LIMIT 10"}
{"prompt": "[ossinsight] Top 5 most popular repos by user", "completion":"SELECT gr.repo_name, gr.stars FROM github_repos gr WHERE gr.owner_id = (SELECT id FROM github_users WHERE login = 'USER') ORDER BY gr.stars DESC LIMIT 5"}
{"prompt": "[ossinsight] Number of events per type by user in the last 30 days", "completion":"WITH events_last_30_days AS(SELECT type, COUNT() AS events FROM github_events WHERE actor_id = (SELECT id FROM github_users WHERE login = 'USER') AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY type) SELECT events_last_30_days.type, events_last_30_days.events FROM events_last_30_days ORDER BY events DESC"}
{"prompt": "[ossinsight] Top 5 languages used by a user", "completion":"WITH languages_by_user AS(SELECT language, COUNT(language) AS usage FROM github_repo_languages JOIN github_repos ON github_repo_languages.repo_id = github_repos.repo_id WHERE github_repos.owner_id = (SELECT id FROM github_users WHERE login = 'USER') GROUP BY language) SELECT languages_by_user.language, languages_by_user.usage FROM languages_by_user ORDER BY usage DESC LIMIT 5"}
{"prompt": "[ossinsight] Number of comments made by user in the last 30 days", "completion":"SELECT COUNT() FROM github_events WHERE actor_id = (SELECT id FROM github_users WHERE login = 'USER') AND type = 'IssueCommentEvent' AND created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY)"}
{"prompt": "[ossinsight] Repos with more than 1000 stars and created by a user", "completion":"SELECT gr.repo_name, gr.stars FROM github_repos gr WHERE gr.owner_id = (SELECT id FROM github_users WHERE login = 'USER') AND gr.stars > 1000"}
{"prompt": "[ossinsight] Repos that have been starred more than 1000 times and are written in Python", "completion": "SELECT gr.repo_name, gr.stars FROM github_repos gr JOIN github_repo_languages grl ON gr.repo_id = grl.repo_id WHERE gr.stars > 1000 AND LOWER(grl.language) = 'python'"}
{"prompt": "[ossinsight] Most active organization in the last 30 days", "completion": "WITH events_last_30_days AS(SELECT org_id, COUNT(*) AS activity FROM github_events WHERE created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY) AND org_id IS NOT NULL GROUP BY org_id) SELECT gu.login, events_last_30_days.activity AS activity FROM github_users gu JOIN events_last_30_days ON gu.id = events_last_30_days.org_id ORDER BY activity DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos with at least one pull request that has been closed in the last week", "completion": "SELECT gr.repo_name FROM github_repos gr JOIN github_events ge ON gr.repo_id = ge.repo_id WHERE ge.type = 'PullRequestEvent' AND ge.action = 'closed' AND ge.created_at >= DATE_SUB(NOW(), INTERVAL 7 DAY) GROUP BY gr.repo_name"}
{"prompt": "[ossinsight] Users with the most followers", "completion": "SELECT gu.login, gu.followers FROM github_users gu ORDER BY gu.followers DESC LIMIT 10"}
{"prompt": "[ossinsight] Repos that have been forked more than 100 times and are written in JavaScript", "completion": "SELECT gr.repo_name, gr.forks FROM github_repos gr JOIN github_repo_languages grl ON gr.repo_id = grl.repo_id WHERE gr.forks > 100 AND LOWER(grl.language) = 'javascript'"}
{"prompt": "[ossinsight] Number of pull requests opened and closed per day for the past month", "completion": "SELECT DATE(ge.created_at) as date, SUM(CASE WHEN ge.action='opened' THEN 1 ELSE 0 END) as opened, SUM(CASE WHEN ge.action='closed' THEN 1 ELSE 0 END) as closed FROM github_events ge WHERE ge.created_at >= DATE_SUB(NOW(), INTERVAL 1 MONTH) AND ge.type = 'PullRequestEvent' GROUP BY DATE(ge.created_at) ORDER BY date ASC"}
{"prompt": "[ossinsight] Top 10 most used programming languages in repos created in the last year", "completion": "SELECT grl.language, COUNT(DISTINCT grl.repo_id) as repos FROM github_repo_languages grl JOIN github_repos gr ON gr.repo_id = grl.repo_id WHERE gr.created_at >= DATE_SUB(NOW(), INTERVAL 1 YEAR) GROUP BY grl.language ORDER BY repos DESC LIMIT 10"}